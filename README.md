# Проект по автоматизации тестового сценария  <p style="text-align: center;">"Покупка книг на сайте www.litres.ru"</p>

### *Описание проекта:*

Данный проект представляет собой автоматизацию расширенного тестового сценария "Покупка книг на сайте litres.ru".
Проект написан на языке программирования Python с использованием библиотеки Selenium WebDriver и паттерна проектирования Page Object Model.
Используемый браузер: **Chrome**.
В проекте подключено логирование и отчеты Allure.

### *Функционал проекта:*

1. Авторизация на сайте litres.ru
1. Проверка доступности основных элементов страниц (кнопки, ссылки, поля ввода, фильтры)
1. Проверка работы поиска
1. Проверка добавления товара в корзину и в отложенное
1. Проверка оформления заказа (только переход к оплате)

### *Структура проекта:*

1. Основной исполняемый файл с тестом: **tests/test_smoke_buy_product.py**
2. Директория **base:**
  - Модуль **base_class.py** хранит экземпляр драйвера и общие методы для проверок
2. Директория **pages** хранит модули, отвечающие за страницы сайта:
  - Модуль авторизации и первого перехода в каталог: **pages/main_page.py**
  - Модуль с результатами поиска книг: **pages/search_page.py**
  - Модуль с карточкой первой книги: **pages/product_page.py**
  - Модуль со страницей Отложенное: **pages/favorites_page.py**
  - Модуль с фрагментом книги: **pages/read_page.py**
  - Модуль с карточкой второй книги: **pages/product_new_page.py**
  - Модуль с корзиной: **pages/cart_page.py**
3. Директория **logs** хранит полученные логи
4. Директория **screenshots** хранит полученные скриншоты
5. Директория **test_result** хранит полученные отчеты
6. Директория **utilities** хранит модуль с логами


### *Установка и запуск проекта:*

1. Установить Python 3
2. Клонировать репозиторий с проектом: **`git clone https://github.com/AleksandraSmol/My_project_litres.git`**
3. Установить файл requirements.txt командой: **`pip install -r requirements.txt`**
4. Запустить тест командой: **`pytest --alluredir=test_results/`**

### *Дополнительная информация:*
   
1. Необходимо убедиться, что версия chromedriver совпадает с версией браузера Chrome.
2. Если версии не совпадают, необходимо скачать нужную версию chromedriver и заменить в проекте.

### *Краткая user-story:*

Как пользователь, я хочу зайти на сайт litres.ru, чтобы авторизоваться и выбрать книгу по частичному названию. Я хочу установить фильтры, выбрать книгу и прочитать отзывы. Затем я хочу положить книгу в отложенное, в корзину, прочитать фрагмент книги и перейти в корзину для оформления заказа. Вспомнив о другой книге, я хочу найти ее с помощью поиска, выбрать вторую книгу, положить в корзину и начать оформлять заказ. Однако, перед оплатой, если пропадает желание делать заказ, я хочу иметь возможность вернуться в корзину, удалить книгу из избранного и очистить корзину.


### Тестовый сценарий "Покупка книг на сайте www.litres.ru"

<table class="iksweb">
	<tbody>
		<tr>
			<th colspan="2">Предусловия</th>
		</tr>
		<tr>
			<td colspan="2">Открыт сайт litres.ru

Авторизация:
Логин - irina1petrova@inbox.ru
Пароль - s7H.bsdQ*YW!3Ks</td>
		</tr>
		<tr>
			<th>Шаги</th>
			<th>Ожидаемый результат</th>
		</tr>
		<tr>
			<td>1. Нажать кнопку "Войти"</td>
			<td>1. Открылся поп-ап авторизации</td>
		</tr>
		<tr>
			<td>2. Нажать кнопку "Электронная почта"</td>
			<td>2. Открылось поле ввода логина</td>
		</tr>
		<tr>
			<td>3. Ввести логин и нажать кнопку "Продолжить"</td>
			<td>3. Открылось поле ввода пароля</td>
		</tr>
		<tr>
			<td>4. Ввести пароль и нажать кнопку "Войти"</td>
			<td>4. Открылся поп-ап "Резервный способ входа"</td>
		</tr>
		<tr>
			<td>5. Закрыть поп-ап "Резервный способ входа"</td>
			<td>5. Отображается главная страница сайта, пользователь авторизован</td>
		</tr>
		<tr>
			<td>6. Нажать кнопку "Каталог"</td>
			<td>6. Открылся каталог</td>
		</tr>
		<tr>
			<td>7. Выбрать подкатегорию "Кулинария" в категории "Дом, дача"</td>
			<td>7. Открылась подкатегория "Кулинария" на новой странице</td>
		</tr>
		<tr>
			<td>8. В поле поиска ввести "до камерных посиделок"</td>
			<td>8. Введенный текст отображается в поле поиска</td>
		</tr>
		<tr>
			<td>9. Нажать кнопку "Найти"</td>
			<td>9. Отображается превью одной книги "Большая поваренная книга Гарри Поттера. От..."</td>
		</tr>
		<tr>
			<td>10. Выбрать фильтры:
- чекбокс Формат -- Текст
- чекбокс Язык -- Русский
- тоггл Высокая оценка</td>
			<td>10. Отображаются установленные фильтры и превью книги "Большая поваренная книга Гарри Поттера. От..."</td>
		</tr>
		<tr>
			<td>11. Выбрать книгу "Большая поваренная книга Гарри Поттера. От..."</td>
			<td>11. Открылась карточка книги "Большая поваренная книга Гарри Поттера. От праздничных пиров Хогвартса до камерных посиделок в «Норе»"</td>
		</tr>
		<tr>
			<td>12. Положить книгу в Отложенное и закрыть промо-поп-ап</td>
			<td>12. Книга появилась в отложенном</td>
		</tr>
		<tr>
			<td>13. Проскроллить страницу вниз и выбрать вкладку "Отзывы"</td>
			<td>13. Открылись отзывы</td>
		</tr>
		<tr>
			<td>14. Нажать на сортировку "Сначала популярные"</td>
			<td>14. Открылось меню сортировки</td>
		</tr>
		<tr>
			<td>15. Установить радиобаттон "Сначала новые"</td>
			<td>15. Отзывы отсортировались по дате создания</td>
		</tr>
		<tr>
			<td>16. Нажать кнопку сортировки "Сначала новые"</td>
			<td>16. Закрылось меню сортировки</td>
		</tr>
		<tr>
			<td>17. Проскроллить страницу вверх и положить книгу в корзину</td>
			<td>17. Книга появилась в корзине</td>
		</tr>
		<tr>
			<td>18. Нажать кнопку "Отложенное" в хэдэре</td>
			<td>18. Открылась страница Отложенное</td>
		</tr>
		<tr>
			<td>19. Нажать три точки справа от книги</td>
			<td>19. Открылось выпадающее меню</td>
		</tr>
		<tr>
			<td>20. Нажать кнопку "Читать фрагмент"</td>
			<td>20. Открылась страница с фрагментом книги</td>
		</tr>
		<tr>
			<td>21. Нажать кнопку "Мельче"</td>
			<td>21. Фрагмент книги стал мельче</td>
		</tr>
		<tr>
			<td>22. Нажать кнопку "Крупнее"</td>
			<td>22. Фрагмент книги стал крупнее</td>
		</tr>
		<tr>
			<td>23. Нажать стрелку назад с названием книги</td>
			<td>23. Открылась страница с карточкой книги</td>
		</tr>
		<tr>
			<td>24. Нажать кнопку "Корзина" в хэдэре</td>
			<td>24. Открылась страница с корзиной</td>
		</tr>
		<tr>
			<td>25. В поле поиска ввести "Шоколад Джоан Харрис" и нажать кнопку найти</td>
			<td>25. Открылась страница с результатами поиска</td>
		</tr>
		<tr>
			<td>26. Выбрать первую книгу "Шоколад"</td>
			<td>26. Открылась карточка книги "Шоколад"</td>
		</tr>
		<tr>
			<td>27. Положить книгу в корзину</td>
			<td>27. Книга появилась в корзине</td>
		</tr>
		<tr>
			<td>28. Нажать кнопку "Корзина" в хэдэре</td>
			<td>28. Открылась страница с корзиной, отображаются две ранее выбранные книги</td>
		</tr>
		<tr>
			<td>29. Нажать кнопку "Перейти к покупке"</td>
			<td>29. Открылся поп-ап оплаты</td>
		</tr>
		<tr>
			<td>30. Обновить страницу</td>
			<td>30. Страница обновилась, отображается корзина с двумя книгами</td>
		</tr>
		<tr>
			<td>31. Нажать кнопку "В отложенном", чтобы удалить оттуда книгу </td>
			<td>31. Книга "Большая поваренная книга Гарри Поттера. От праздничных пиров Хогвартса до камерных посиделок в «Норе»" удалена из отложенного</td>
		</tr>
		<tr>
			<td>32. Удалить из корзины все книги поочередно</td>
			<td>32. Корзина очистилась, появилась надпись "Корзина пуста"</td>
		</tr>
	</tbody>
</table>
